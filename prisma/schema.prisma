generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model QuizSet {
  id        Int      @id @default(autoincrement())
  title     String
  teamName  String
  topic     String
  createdAt DateTime @default(now())
  createdBy String
  quizzes   Quiz[]
}

model Quiz {
  id            Int     @id @default(autoincrement())
  quizSetId     Int
  question      String
  optionA       String
  optionB       String
  optionC       String
  optionD       String
  answer        String
  qrCode        String
  questionOrder Int
  quizSet       QuizSet @relation(fields: [quizSetId], references: [id])

  @@index([quizSetId])
}

model admin {
  ID       Int    @id(map: "adminLogin_pkey") @default(autoincrement())
  adminID  String @db.VarChar(20)
  adminPWD String @db.VarChar(20)
}

model user {
  idx              Int       @id(map: "userLogin_pkey") @default(autoincrement())
  group            String    @db.VarChar(255)
  userTeamName     String    @db.VarChar(255)
  userTeamPassword String    @db.VarChar(255)
  access_at        DateTime? @db.Timestamp(6)
  created_at       DateTime? @default(now()) @db.Timestamp(6)
}

model group {
  idx    Int    @id(map: "group_pk") @default(autoincrement())
  school String @db.VarChar
}

model participate_raw {
  idx        Int       @id(map: "participate_raw_pk") @default(autoincrement())
  content_id Int
  user_id    Int
  file_data  String?   @db.VarChar
  created_at DateTime? @default(now()) @db.Timestamp(6)
}
